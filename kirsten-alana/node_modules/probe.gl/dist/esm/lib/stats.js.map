{"version":3,"sources":["../../../src/lib/stats.js"],"names":["Stat","Stats","id","stats","Object","seal","name","key","reset","fn","table","forEach","stat","time","count","average","getAverageTime","hz","getHz"],"mappings":";;AAAA,OAAOA,IAAP,MAAiB,QAAjB;;IAEqBC,K;AACnB,uBAAkB;AAAA,QAALC,EAAK,QAALA,EAAK;;AAAA;;AAChB,SAAKA,EAAL,GAAUA,EAAV;AACA,SAAKC,KAAL,GAAa,EAAb;AACAC,IAAAA,MAAM,CAACC,IAAP,CAAY,IAAZ;AACD;;;;wBAGGC,I,EAAM;AACR,WAAKH,KAAL,CAAWG,IAAX,IAAmB,KAAKH,KAAL,CAAWG,IAAX,KAAoB,IAAIN,IAAJ,CAASM,IAAT,CAAvC;AACA,aAAO,KAAKH,KAAL,CAAWG,IAAX,CAAP;AACD;;;4BAGO;AACN,WAAK,IAAMC,GAAX,IAAkB,KAAKJ,KAAvB,EAA8B;AAC5B,aAAKA,KAAL,CAAWI,GAAX,EAAgBC,KAAhB;AACD;;AAED,aAAO,IAAP;AACD;;;4BAEOC,E,EAAI;AACV,WAAK,IAAMF,GAAX,IAAkB,KAAKJ,KAAvB,EAA8B;AAC5BM,QAAAA,EAAE,CAAC,KAAKN,KAAL,CAAWI,GAAX,CAAD,CAAF;AACD;AACF;;;+BAEU;AACT,UAAMG,KAAK,GAAG,EAAd;AACA,WAAKC,OAAL,CAAa,UAAAC,IAAI,EAAI;AACnBF,QAAAA,KAAK,CAACE,IAAI,CAACN,IAAN,CAAL,GAAmB;AACjBO,UAAAA,IAAI,EAAED,IAAI,CAACC,IAAL,IAAa,CADF;AAEjBC,UAAAA,KAAK,EAAEF,IAAI,CAACE,KAAL,IAAc,CAFJ;AAGjBC,UAAAA,OAAO,EAAEH,IAAI,CAACI,cAAL,MAAyB,CAHjB;AAIjBC,UAAAA,EAAE,EAAEL,IAAI,CAACM,KAAL,MAAgB;AAJH,SAAnB;AAMD,OAPD;AASA,aAAOR,KAAP;AACD;;;;;;SAxCkBT,K","sourcesContent":["import Stat from './stat';\n\nexport default class Stats {\n  constructor({id}) {\n    this.id = id;\n    this.stats = {};\n    Object.seal(this);\n  }\n\n  // Acquire a stat. Create if it doesn't exist.\n  get(name) {\n    this.stats[name] = this.stats[name] || new Stat(name);\n    return this.stats[name];\n  }\n\n  // Reset all stats\n  reset() {\n    for (const key in this.stats) {\n      this.stats[key].reset();\n    }\n\n    return this;\n  }\n\n  forEach(fn) {\n    for (const key in this.stats) {\n      fn(this.stats[key]);\n    }\n  }\n\n  getTable() {\n    const table = {};\n    this.forEach(stat => {\n      table[stat.name] = {\n        time: stat.time || 0,\n        count: stat.count || 0,\n        average: stat.getAverageTime() || 0,\n        hz: stat.getHz() || 0\n      };\n    });\n\n    return table;\n  }\n}\n"],"file":"stats.js"}