{"version":3,"sources":["../../../src/lib/stats.js"],"names":["Stat","Stats","constructor","id","stats","Object","seal","get","name","reset","key","forEach","fn","getTable","table","stat","time","count","average","getAverageTime","hz","getHz"],"mappings":"AAAA,OAAOA,IAAP,MAAiB,QAAjB;AAEA,eAAe,MAAMC,KAAN,CAAY;AACzBC,EAAAA,WAAW,CAAC;AAACC,IAAAA;AAAD,GAAD,EAAO;AAChB,SAAKA,EAAL,GAAUA,EAAV;AACA,SAAKC,KAAL,GAAa,EAAb;AACAC,IAAAA,MAAM,CAACC,IAAP,CAAY,IAAZ;AACD;;AAGDC,EAAAA,GAAG,CAACC,IAAD,EAAO;AACR,SAAKJ,KAAL,CAAWI,IAAX,IAAmB,KAAKJ,KAAL,CAAWI,IAAX,KAAoB,IAAIR,IAAJ,CAASQ,IAAT,CAAvC;AACA,WAAO,KAAKJ,KAAL,CAAWI,IAAX,CAAP;AACD;;AAGDC,EAAAA,KAAK,GAAG;AACN,SAAK,MAAMC,GAAX,IAAkB,KAAKN,KAAvB,EAA8B;AAC5B,WAAKA,KAAL,CAAWM,GAAX,EAAgBD,KAAhB;AACD;;AAED,WAAO,IAAP;AACD;;AAEDE,EAAAA,OAAO,CAACC,EAAD,EAAK;AACV,SAAK,MAAMF,GAAX,IAAkB,KAAKN,KAAvB,EAA8B;AAC5BQ,MAAAA,EAAE,CAAC,KAAKR,KAAL,CAAWM,GAAX,CAAD,CAAF;AACD;AACF;;AAEDG,EAAAA,QAAQ,GAAG;AACT,UAAMC,KAAK,GAAG,EAAd;AACA,SAAKH,OAAL,CAAaI,IAAI,IAAI;AACnBD,MAAAA,KAAK,CAACC,IAAI,CAACP,IAAN,CAAL,GAAmB;AACjBQ,QAAAA,IAAI,EAAED,IAAI,CAACC,IAAL,IAAa,CADF;AAEjBC,QAAAA,KAAK,EAAEF,IAAI,CAACE,KAAL,IAAc,CAFJ;AAGjBC,QAAAA,OAAO,EAAEH,IAAI,CAACI,cAAL,MAAyB,CAHjB;AAIjBC,QAAAA,EAAE,EAAEL,IAAI,CAACM,KAAL,MAAgB;AAJH,OAAnB;AAMD,KAPD;AASA,WAAOP,KAAP;AACD;;AAxCwB","sourcesContent":["import Stat from './stat';\n\nexport default class Stats {\n  constructor({id}) {\n    this.id = id;\n    this.stats = {};\n    Object.seal(this);\n  }\n\n  // Acquire a stat. Create if it doesn't exist.\n  get(name) {\n    this.stats[name] = this.stats[name] || new Stat(name);\n    return this.stats[name];\n  }\n\n  // Reset all stats\n  reset() {\n    for (const key in this.stats) {\n      this.stats[key].reset();\n    }\n\n    return this;\n  }\n\n  forEach(fn) {\n    for (const key in this.stats) {\n      fn(this.stats[key]);\n    }\n  }\n\n  getTable() {\n    const table = {};\n    this.forEach(stat => {\n      table[stat.name] = {\n        time: stat.time || 0,\n        count: stat.count || 0,\n        average: stat.getAverageTime() || 0,\n        hz: stat.getHz() || 0\n      };\n    });\n\n    return table;\n  }\n}\n"],"file":"stats.js"}