{"version":3,"sources":["../../../src/glb/gltf-type-utils.js"],"names":["TYPES","ARRAY_TO_COMPONENT_TYPE","Map","Int8Array","Uint8Array","Int16Array","Uint16Array","Uint32Array","Float32Array","getAccessorTypeFromSize","size","type","getComponentTypeFromArray","typedArray","componentType","get","constructor","Error","ATTRIBUTE_TYPE_TO_COMPONENTS","SCALAR","VEC2","VEC3","VEC4","MAT2","MAT3","MAT4","ATTRIBUTE_COMPONENT_TYPE_TO_BYTE_SIZE","ATTRIBUTE_COMPONENT_TYPE_TO_ARRAY"],"mappings":"AAEA,MAAMA,KAAK,GAAG,CAAC,QAAD,EAAW,MAAX,EAAmB,MAAnB,EAA2B,MAA3B,CAAd;AAEA,MAAMC,uBAAuB,GAAG,IAAIC,GAAJ,CAAQ,CACtC,CAACC,SAAD,EAAY,IAAZ,CADsC,EAEtC,CAACC,UAAD,EAAa,IAAb,CAFsC,EAGtC,CAACC,UAAD,EAAa,IAAb,CAHsC,EAItC,CAACC,WAAD,EAAc,IAAd,CAJsC,EAKtC,CAACC,WAAD,EAAc,IAAd,CALsC,EAMtC,CAACC,YAAD,EAAe,IAAf,CANsC,CAAR,CAAhC;AASA,OAAO,SAASC,uBAAT,CAAiCC,IAAjC,EAAuC;AAC5C,QAAMC,IAAI,GAAGX,KAAK,CAACU,IAAI,GAAG,CAAR,CAAlB;AACA,SAAOC,IAAI,IAAIX,KAAK,CAAC,CAAD,CAApB;AACD;AAED,OAAO,SAASY,yBAAT,CAAmCC,UAAnC,EAA+C;AACpD,QAAMC,aAAa,GAAGb,uBAAuB,CAACc,GAAxB,CAA4BF,UAAU,CAACG,WAAvC,CAAtB;;AACA,MAAI,CAACF,aAAL,EAAoB;AAClB,UAAM,IAAIG,KAAJ,CAAU,qBAAV,CAAN;AACD;;AACD,SAAOH,aAAP;AACD;AAID,OAAO,MAAMI,4BAA4B,GAAG;AAC1CC,EAAAA,MAAM,EAAE,CADkC;AAE1CC,EAAAA,IAAI,EAAE,CAFoC;AAG1CC,EAAAA,IAAI,EAAE,CAHoC;AAI1CC,EAAAA,IAAI,EAAE,CAJoC;AAK1CC,EAAAA,IAAI,EAAE,CALoC;AAM1CC,EAAAA,IAAI,EAAE,CANoC;AAO1CC,EAAAA,IAAI,EAAE;AAPoC,CAArC;AAUP,OAAO,MAAMC,qCAAqC,GAAG;AACnD,QAAM,CAD6C;AAEnD,QAAM,CAF6C;AAGnD,QAAM,CAH6C;AAInD,QAAM,CAJ6C;AAKnD,QAAM,CAL6C;AAMnD,QAAM;AAN6C,CAA9C;AASP,OAAO,MAAMC,iCAAiC,GAAG;AAC/C,QAAMxB,SADyC;AAE/C,QAAMC,UAFyC;AAG/C,QAAMC,UAHyC;AAI/C,QAAMC,WAJyC;AAK/C,QAAMC,WALyC;AAM/C,QAAMC;AANyC,CAA1C","sourcesContent":["// TODO - Remove: glTF constants should not be know to the GLB layer\n\nconst TYPES = ['SCALAR', 'VEC2', 'VEC3', 'VEC4'];\n\nconst ARRAY_TO_COMPONENT_TYPE = new Map([\n  [Int8Array, 5120],\n  [Uint8Array, 5121],\n  [Int16Array, 5122],\n  [Uint16Array, 5123],\n  [Uint32Array, 5125],\n  [Float32Array, 5126]\n]);\n\nexport function getAccessorTypeFromSize(size) {\n  const type = TYPES[size - 1];\n  return type || TYPES[0];\n}\n\nexport function getComponentTypeFromArray(typedArray) {\n  const componentType = ARRAY_TO_COMPONENT_TYPE.get(typedArray.constructor);\n  if (!componentType) {\n    throw new Error('Illegal typed array');\n  }\n  return componentType;\n}\n\n// glTF ACCESSOR CONSTANTS\n\nexport const ATTRIBUTE_TYPE_TO_COMPONENTS = {\n  SCALAR: 1,\n  VEC2: 2,\n  VEC3: 3,\n  VEC4: 4,\n  MAT2: 4,\n  MAT3: 9,\n  MAT4: 16\n};\n\nexport const ATTRIBUTE_COMPONENT_TYPE_TO_BYTE_SIZE = {\n  5120: 1,\n  5121: 1,\n  5122: 2,\n  5123: 2,\n  5125: 4,\n  5126: 4\n};\n\nexport const ATTRIBUTE_COMPONENT_TYPE_TO_ARRAY = {\n  5120: Int8Array,\n  5121: Uint8Array,\n  5122: Int16Array,\n  5123: Uint16Array,\n  5125: Uint32Array,\n  5126: Float32Array\n};\n"],"file":"gltf-type-utils.js"}