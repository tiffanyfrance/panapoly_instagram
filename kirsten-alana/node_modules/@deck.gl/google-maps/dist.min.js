!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t(require("deck"));else if("function"==typeof define&&define.amd)define(["deck"],t);else{var o="object"==typeof exports?t(require("deck")):t(e.deck);for(var n in o)("object"==typeof exports?exports:e)[n]=o[n]}}(window,function(e){return function(e){var t={};function o(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,o),i.l=!0,i.exports}return o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)o.d(n,i,function(t){return e[t]}.bind(null,i));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=1)}([function(t,o){t.exports=e},function(e,t,o){(function(t){const n=o(3),i=("undefined"==typeof window?t:window).deck||{};if(!i.Layer)throw new Error("@deck.gl/core is not found");e.exports=Object.assign(i,n)}).call(this,o(2))},function(e,t){var o;o=function(){return this}();try{o=o||new Function("return this")()}catch(e){"object"==typeof window&&(o=window)}e.exports=o},function(e,t,o){"use strict";o.r(t);var n=o(0);function i(e){const t=e.getPanes().overlayLayer,o=document.createElement("canvas");return Object.assign(o.style,{position:"absolute"}),t.appendChild(o),o}function r(e){const{_eventListeners:t}=e.props.userData;for(const e in t)t[e].remove();e.finalize(),e.canvas.parentNode.removeChild(e.canvas)}function s(e,t,o){let n;switch(t){case"click":n=e._onEvent;break;case"mousemove":n=e._onPointerMove;break;case"mouseout":n=e._onPointerLeave;break;default:return}n({type:t,offsetCenter:o.pixel,srcEvent:o})}const c=()=>!1;class a{constructor(e){this.props={},this._map=null;const t=new google.maps.OverlayView;t.onAdd=this._onAdd.bind(this),t.onRemove=this._onRemove.bind(this),t.draw=this._draw.bind(this),this._overlay=t,this.setProps(e)}setMap(e){e!==this._map&&(this._map&&(this._overlay.setMap(null),this._map=null),e&&(this._map=e,this._overlay.setMap(e)))}setProps(e){Object.assign(this.props,e),this._deck&&this._deck.setProps(this.props)}pickObject(e){return this._deck&&this._deck.pickObject(e)}pickMultipleObjects(e){return this._deck&&this._deck.pickMultipleObjects(e)}pickObjects(e){return this._deck&&this._deck.pickObjects(e)}finalize(){this.setMap(null),this._deck&&(r(this._deck),this._deck=null)}_onAdd(){this._deck=function(e,t,o){if(o){if(o.props.userData._googleMap===e)return o;r(o)}const c={click:null,mousemove:null,mouseout:null};o=new n.Deck({canvas:i(t),initialViewState:{longitude:0,latitude:0,zoom:1},controller:!1,userData:{_googleMap:e,_eventListeners:c}});for(const t in c)c[t]=e.addListener(t,e=>s(o,t,e));return o}(this._map,this._overlay,this._deck),this._deck.setProps(this.props)}_onRemove(){this._deck.setProps({layerFilter:c})}_draw(){const e=this._deck,{width:t,height:o,left:n,top:i,zoom:r,pitch:s,latitude:a,longitude:l}=function(e,t){const o=e.getDiv(),n=o.offsetWidth,i=o.offsetHeight,r=t.getProjection(),s=e.getBounds(),c=s.getNorthEast(),a=s.getSouthWest(),l=r.fromLatLngToDivPixel(c),u=r.fromLatLngToDivPixel(a),p=new google.maps.Point(0,0),d=r.fromContainerPixelToLatLng(p),f=r.fromLatLngToDivPixel(d),h=(l.x-u.x)/n,_=Math.log2(h)+e.getZoom()-1,g=new google.maps.Point(n/2,i/2),v=r.fromContainerPixelToLatLng(g),m=v.lat(),y=v.lng();return{width:n,height:i,left:f.x,top:f.y,zoom:_,pitch:e.getTilt(),latitude:m,longitude:y}}(this._map,this._overlay),u=r>=0&&0===s;e.canvas.style.left=`${n}px`,e.canvas.style.top=`${i}px`,e.setProps({width:t,height:o,viewState:{latitude:a,longitude:l,zoom:r},layerFilter:u?this.props.layerFilter:c}),e.redraw()}}o.d(t,"GoogleMapsOverlay",function(){return a})}])});