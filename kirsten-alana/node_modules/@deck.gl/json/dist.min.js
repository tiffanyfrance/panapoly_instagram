!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e(require("deck"));else if("function"==typeof define&&define.amd)define(["deck"],e);else{var n="object"==typeof exports?e(require("deck")):e(t.deck);for(var r in n)("object"==typeof exports?exports:t)[r]=n[r]}}(window,function(t){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1)}([function(e,n){e.exports=t},function(t,e,n){(function(e){const r=n(3),i=("undefined"==typeof window?e:window).deck||{};if(!i.Layer)throw new Error("@deck.gl/core is not found");t.exports=Object.assign(i,r)}).call(this,n(2))},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";n.r(e);var r=n(0);class i extends r.CompositeLayer{initializeState(){this.state={layers:[]}}updateState({props:t,oldProps:e}){if(t.data!==e.data||t.configuration!==e.configuration){const e="string"==typeof t.data?JSON.parse(t.data):t.data;this.state.layers=function(t=[],e){const n=e.layers||{};return t.map(t=>{const r=n[t.type],i=function(t,e){const n={};for(const r in t){const i=t[r];r.startsWith("get")?n[r]=b(i,e):n[r]=i}return n}(t,e);return i.fetch=j,r&&new r(i)})}(e,t.configuration)}}renderLayers(){return this.state.layers}}function o(t,e){const n=function(t){if("string"==typeof t){let e=u[t];return e||(e=t.split("."),u[t]=e),e}return Array.isArray(t)?t:[t]}(e);let r=t;for(const t of n)r=a(r)?r[t]:void 0;return r}function a(t){return null!==t&&"object"==typeof t}i.layerName="JSONLayer",i.defaultProps={configuration:[]};const u={};var c={},s={},f=34,l=10,p=13;function d(t){return new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}")}var y=function(t){var e=new RegExp('["'+t+"\n\r]"),n=t.charCodeAt(0);function r(t,e){var r,i=[],o=t.length,a=0,u=0,d=o<=0,y=!1;function h(){if(d)return s;if(y)return y=!1,c;var e,r,i=a;if(t.charCodeAt(i)===f){for(;a++<o&&t.charCodeAt(a)!==f||t.charCodeAt(++a)===f;);return(e=a)>=o?d=!0:(r=t.charCodeAt(a++))===l?y=!0:r===p&&(y=!0,t.charCodeAt(a)===l&&++a),t.slice(i+1,e-1).replace(/""/g,'"')}for(;a<o;){if((r=t.charCodeAt(e=a++))===l)y=!0;else if(r===p)y=!0,t.charCodeAt(a)===l&&++a;else if(r!==n)continue;return t.slice(i,e)}return d=!0,t.slice(i,o)}for(t.charCodeAt(o-1)===l&&--o,t.charCodeAt(o-1)===p&&--o;(r=h())!==s;){for(var w=[];r!==c&&r!==s;)w.push(r),r=h();e&&null==(w=e(w,u++))||i.push(w)}return i}function i(e){return e.map(o).join(t)}function o(t){return null==t?"":e.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,e){var n,i,o=r(t,function(t,r){if(n)return n(t,r-1);i=t,n=e?function(t,e){var n=d(t);return function(r,i){return e(n(r),i,t)}}(t,e):d(t)});return o.columns=i||[],o},parseRows:r,format:function(e,n){return null==n&&(n=function(t){var e=Object.create(null),n=[];return t.forEach(function(t){for(var r in t)r in e||n.push(e[r]=r)}),n}(e)),[n.map(o).join(t)].concat(e.map(function(e){return n.map(function(t){return o(e[t])}).join(t)})).join("\n")},formatRows:function(t){return t.map(i).join("\n")}}},h=y(","),w=(h.parse,h.parseRows),m=(h.format,h.formatRows,y("\t"));m.parse,m.parseRows,m.format,m.formatRows;const g={MapView:r.MapView,FirstPersonView:r.FirstPersonView,OrbitView:r.OrbitView,OrthographicView:r.OrthographicView},S={style:"mapbox://styles/mapbox/light-v9"};function v(t,e){const n=t;return n.layers&&(n.layers=function(t,e){return[new i({data:t,configuration:e})]}(t.layers,e)),n.views&&(n.views=function(t,e){if(!t)return t;const n=e.views||{};return(t=Array.isArray(t)?t:[t]).map(t=>{const e=n[t.type]||g[t.type];if(e){const n=Object.assign({},t);return delete n.type,new e(n)}return null}).filter(Boolean)}(t.views,e)),"initialViewState"in n&&(n.viewState=n.viewState||n.initialViewState),function(t,e){(t.map||t.mapStyle)&&(t.map=Object.assign({},S,t.map));if(!t.map)return;"mapStyle"in t&&(t.map.style=t.mapStyle,t.map.mapStyle=t.mapStyle,delete t.mapStyle);"viewState"in t&&(t.map.viewState=t.viewState)}(n),n}function b(t,e){return"-"===t?t=>t:"string"==typeof t?e=>o(e,t):t}function j(t){return fetch(t).then(t=>t.text()).then(t=>{try{return JSON.parse(t)}catch(e){return function(t){const e=w(t);e.length>0&&e.shift();for(const t of e)for(const e in t){const n=parseFloat(t[e])||0;Number.isNaN(n)||(t[e]=n)}return e}(t)}})}class O{constructor(t){this.configuration={},this.onJSONChange=(()=>{}),this.setProps(t)}finalize(){}setProps(t){"configuration"in t&&(this.configuration=t.configuration),"onJSONChange"in t&&(this.onJSONChange=t.onJSONChange)}convertJsonToDeckProps(t){if(!t||t===this.json)return this.deckProps;this.json=t;const e=v(function(t){return"string"==typeof t?JSON.parse(t):Object.assign({},t)}(t),this.configuration);if("initialViewState"in e){(!this.initialViewState||!function(t,e){if(t===e)return!0;if("object"!=typeof t||null===t||"object"!=typeof e||null===e)return!1;if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!(n in e)||t[n]!==e[n])return!1;for(const n in e)if(!(n in t))return!1;return!0}(e.initialViewState,this.initialViewState))&&(e.viewState=e.initialViewState,this.initialViewState=e.initialViewState),delete e.initialViewState}return this.deckProps=e,e}}n.d(e,"_JSONConverter",function(){return O}),n.d(e,"_JSONLayer",function(){return i})}])});