{"version":3,"sources":["../../../src/json-layer/json-layer.js"],"names":["CompositeLayer","getJSONLayers","defaultProps","configuration","JSONLayer","initializeState","state","layers","updateState","props","oldProps","layersChanged","data","JSON","parse","renderLayers","layerName"],"mappings":"AAAA,SAAQA,cAAR,QAA6B,eAA7B;AACA,SAAQC,aAAR,QAA4B,yBAA5B;AAEA,MAAMC,YAAY,GAAG;AACnBC,EAAAA,aAAa,EAAE;AADI,CAArB;AAIA,eAAe,MAAMC,SAAN,SAAwBJ,cAAxB,CAAuC;AACpDK,EAAAA,eAAe,GAAG;AAChB,SAAKC,KAAL,GAAa;AACXC,MAAAA,MAAM,EAAE;AADG,KAAb;AAGD;;AAEDC,EAAAA,WAAW,OAAoB;AAAA,QAAlBC,KAAkB,QAAlBA,KAAkB;AAAA,QAAXC,QAAW,QAAXA,QAAW;AAC7B,UAAMC,aAAa,GACjBF,KAAK,CAACG,IAAN,KAAeF,QAAQ,CAACE,IAAxB,IAAgCH,KAAK,CAACN,aAAN,KAAwBO,QAAQ,CAACP,aADnE;;AAGA,QAAIQ,aAAJ,EAAmB;AAEjB,YAAMC,IAAI,GAAG,OAAOH,KAAK,CAACG,IAAb,KAAsB,QAAtB,GAAiCC,IAAI,CAACC,KAAL,CAAWL,KAAK,CAACG,IAAjB,CAAjC,GAA0DH,KAAK,CAACG,IAA7E;AACA,WAAKN,KAAL,CAAWC,MAAX,GAAoBN,aAAa,CAACW,IAAD,EAAOH,KAAK,CAACN,aAAb,CAAjC;AACD;AACF;;AAEDY,EAAAA,YAAY,GAAG;AACb,WAAO,KAAKT,KAAL,CAAWC,MAAlB;AACD;;AApBmD;AAuBtDH,SAAS,CAACY,SAAV,GAAsB,WAAtB;AACAZ,SAAS,CAACF,YAAV,GAAyBA,YAAzB","sourcesContent":["import {CompositeLayer} from '@deck.gl/core';\nimport {getJSONLayers} from '../parsers/convert-json';\n\nconst defaultProps = {\n  configuration: []\n};\n\nexport default class JSONLayer extends CompositeLayer {\n  initializeState() {\n    this.state = {\n      layers: []\n    };\n  }\n\n  updateState({props, oldProps}) {\n    const layersChanged =\n      props.data !== oldProps.data || props.configuration !== oldProps.configuration;\n\n    if (layersChanged) {\n      // Optionally accept JSON strings by parsing them\n      const data = typeof props.data === 'string' ? JSON.parse(props.data) : props.data;\n      this.state.layers = getJSONLayers(data, props.configuration);\n    }\n  }\n\n  renderLayers() {\n    return this.state.layers;\n  }\n}\n\nJSONLayer.layerName = 'JSONLayer';\nJSONLayer.defaultProps = defaultProps;\n"],"file":"json-layer.js"}