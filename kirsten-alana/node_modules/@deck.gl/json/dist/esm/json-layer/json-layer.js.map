{"version":3,"sources":["../../../src/json-layer/json-layer.js"],"names":["CompositeLayer","getJSONLayers","defaultProps","configuration","JSONLayer","state","layers","props","oldProps","layersChanged","data","JSON","parse","layerName"],"mappings":";;;;;AAAA,SAAQA,cAAR,QAA6B,eAA7B;AACA,SAAQC,aAAR,QAA4B,yBAA5B;AAEA,IAAMC,YAAY,GAAG;AACnBC,EAAAA,aAAa,EAAE;AADI,CAArB;;IAIqBC,S;;;;;;;;;;;sCACD;AAChB,WAAKC,KAAL,GAAa;AACXC,QAAAA,MAAM,EAAE;AADG,OAAb;AAGD;;;sCAE8B;AAAA,UAAlBC,KAAkB,QAAlBA,KAAkB;AAAA,UAAXC,QAAW,QAAXA,QAAW;AAC7B,UAAMC,aAAa,GACjBF,KAAK,CAACG,IAAN,KAAeF,QAAQ,CAACE,IAAxB,IAAgCH,KAAK,CAACJ,aAAN,KAAwBK,QAAQ,CAACL,aADnE;;AAGA,UAAIM,aAAJ,EAAmB;AAEjB,YAAMC,IAAI,GAAG,OAAOH,KAAK,CAACG,IAAb,KAAsB,QAAtB,GAAiCC,IAAI,CAACC,KAAL,CAAWL,KAAK,CAACG,IAAjB,CAAjC,GAA0DH,KAAK,CAACG,IAA7E;AACA,aAAKL,KAAL,CAAWC,MAAX,GAAoBL,aAAa,CAACS,IAAD,EAAOH,KAAK,CAACJ,aAAb,CAAjC;AACD;AACF;;;mCAEc;AACb,aAAO,KAAKE,KAAL,CAAWC,MAAlB;AACD;;;;EApBoCN,c;;SAAlBI,S;AAuBrBA,SAAS,CAACS,SAAV,GAAsB,WAAtB;AACAT,SAAS,CAACF,YAAV,GAAyBA,YAAzB","sourcesContent":["import {CompositeLayer} from '@deck.gl/core';\nimport {getJSONLayers} from '../parsers/convert-json';\n\nconst defaultProps = {\n  configuration: []\n};\n\nexport default class JSONLayer extends CompositeLayer {\n  initializeState() {\n    this.state = {\n      layers: []\n    };\n  }\n\n  updateState({props, oldProps}) {\n    const layersChanged =\n      props.data !== oldProps.data || props.configuration !== oldProps.configuration;\n\n    if (layersChanged) {\n      // Optionally accept JSON strings by parsing them\n      const data = typeof props.data === 'string' ? JSON.parse(props.data) : props.data;\n      this.state.layers = getJSONLayers(data, props.configuration);\n    }\n  }\n\n  renderLayers() {\n    return this.state.layers;\n  }\n}\n\nJSONLayer.layerName = 'JSONLayer';\nJSONLayer.defaultProps = defaultProps;\n"],"file":"json-layer.js"}