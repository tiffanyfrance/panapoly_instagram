{"ast":null,"code":"import { assert } from '@loaders.gl/core';\nimport { encodeImageNode } from '../node/encode-image-node';\nexport function encodeImage(image, type) {\n  if (encodeImageNode) {\n    return encodeImageNode(image, type);\n  }\n\n  if (image instanceof HTMLCanvasElement) {\n    var _canvas = image;\n    return _canvas.toDataURL(type);\n  }\n\n  assert(image instanceof Image, 'getImageData accepts image or canvas');\n  var canvas = document.createElement('canvas');\n  canvas.width = image.width;\n  canvas.height = image.height;\n  canvas.getContext('2d').drawImage(image, 0, 0);\n  var data = canvas.toDataURL(type || 'png').replace(/^data:image\\/(png|jpg);base64,/, '');\n  return Promise.resolve(data);\n}","map":null,"metadata":{},"sourceType":"module"}